vim.txt

这篇教程写了在不同工作模式下使用VIM的一些基本技巧 -- 即插入模式（insert mode）， 命令模式（command mode）， 存取文件等。目的是帮助刚刚接触VIM的新手更加有效率的使用这个出色的编辑器。
说明：在这篇文章里面，<C-X>代表Ctrl + X -- 就是按住Ctrl键然后再按X。而且你可以在很多情况下使用 :help command 来获得大部分命令的帮助，这个是VIM的内部帮助文件命令。
(Edit Section ↓)
1.  高效率移动
(Edit Section ↓)
1.1  在插入模式之外
基本上来说，你应该尽可能少的呆在插入模式里面，因为在插入模式里面VIM就像一个“哑巴”编辑器一样。很多新手都会一直呆在插入模式里面，因为这样易于使用。但VIM的强大之处在于他的命令行模式！你会发现，在你越来越了解VIM之后，你就会花越来越少的时间使用插入模式了。
(Edit Section ↓)
1.2  使用 h，j，k，l
使用VIM高效率编辑的第一步，就是放弃使用箭头键。使用VIM，你就不用频繁的在箭头键和字母键之间移来移去了，这会节省你很多时间。当你在命令模式时，你可以用h，j，k，l来分别实现左，下，上，右箭头的功能。一开始可能需要适应一下，但一旦习惯这种方式，你就会发现这样操作的高效之处了。
在你编辑你的电子邮件或者其他有段落的文本时，你可能会发现使用方向键和你预期的效果不一样，有时候可能会一次跳过了很多行。这是因为你的段落在VIM看来是一个大的长长的行。这时你可以在按h，j，k或者l 之前键入一个g，这样VIM就会按屏幕上面的行如你所愿的移动了。
(Edit Section ↓)
1.3  在当前行里面有效的移动光标
很多编辑器只提供了简单的命令来控制光标的移动（比如左，上，右，下，到行首/尾等）。VIM则提供了很多强大的命令来满足你控制光标的欲望。当光标从一点移动到另外一点，在这两点之间的文本（包括这两个点）称作被“跨过”，这里的命令也被称作是motion。（简单说明一下，后面会用到这个重要的概念）
这里是常用到的一些命令（motion）：
fx：移动光标到当前行的下一个x处。很明显，x可以是任意一个字母，而且你可以使用;来重复你的上一个f命令。
tx：和上面的命令类似，但是是移动到x的左边一个位置。（这真的很有用）
Fx：和fx类似，不过是往回找。
w：光标往前移动一个词。
b： 光标往后移动一个词。
0： 移动光标到当前行首。
^：移动光标到当前行的第一个字母位置。
$： 移动光标到行尾。
)： 移动光标到下一个句子。
(： 移动光标到上一个句子。
(Edit Section ↓)
1.4  在整个文件里面有效移动光标
VIM有很多命令，可以用来到达文件里面你想到达的地方。下面是一些在文件里面移动的命令：
<C-F>：向下移动一屏。
<C-B>：向上移动一屏。
G：到文件尾
numG：移动光标到指定的行（num）。（比如10G就是到第10行）
gg：到文件首
H：移动光标到屏幕上面
M：移动光标到屏幕中间
L：移动光标到屏幕下面
*：读取光标处的字符串，并且移动光标到它再次出现的地方。
#：和上面的类似，但是是往反方向寻找。
/text：从当前光标处开始搜索字符串text，并且到达text出现的地方。必须使用回车来开始这个搜索命令。如果想重复上次的搜索的话，按n。
？text：和上面类似，但是是反方向。
ma：在当前光标的位置标记一个书签，名字为a。书签名只能是小写字母。你看不见书签的存在，但它确实已经在那里了。
`a：到书签a处。注意这个不是单引号，它一般位于大部分键盘的1的左边。
`.：到你上次编辑文件的地方。这个命令很有用，而且你不用自己去标记它。
(Edit Section ↓)
2.  高效的输入
(Edit Section ↓)
2.1  使用关键词自动完成
VIM 有一个非常漂亮的关键词自动完成系统。这表示，你可以输入一个长词的一部分，然后按一下某个键，然后VIM就替你完成了这个长词的输入了。举个例子：你有一个变量名为 iAmALongAndAwkwardVarName 在你写的代码的某个地方。也许你不想每回都自己一个一个字母的去输入它。
使用关键词自动完成功能，你只需要输入开始几个字母（比如iAmAL），然后按<C-N>（按住Ctrl，再按N）或者<C-P>。如果VIM没有给出你想要的词，基本按，直到你满意为止，VIM会一直循环它找到的匹配的字符串。
(Edit Section ↓)
2.2  聪明的进入插入模式
很多新手进入插入模式都只是用i。这样当然可以进入插入模式，但通常不是那么合适，因为VIM提供了很多进入插入模式的命令。下面是最常用的一些：
i：在当前字符的左边插入
I：在当前行首插入
a：在当前字符的右边插入
A：在当前行尾插入
o：在当前行下面插入一个新行
O：在当前行上面插入一个新行
c{motion}：删除motion命令跨过的字符，并且进入插入模式。比如：c$，这将会删除从光标位置到行尾的字符并且进入插入模式。ct！，这会删除从光标位置到下一个叹号（但不包括），然后进入插入模式。被删除的字符被存在了剪贴板里面，并且可以再粘贴出来。
d{motion}：和上面差不多，但是不进入插入模式。
(Edit Section ↓)
3.  有效的移动大段的文本
(Edit Section ↓)
3.1  使用可视选择（visual selections）和合适的选择模式
不想最初的VI，VIM允许你高亮（选择）一些文本，并且进行操作。这里有三种可视选择模式：
v：按字符选择。经常使用的模式，所以亲自尝试一下它。
V：按行选择。这在你想拷贝或者移动很多行的文本的时候特别有用。
<C-V>：按块选择。非常强大，只在很少的编辑器中才有这样的功能。你可以选择一个矩形块，并且在这个矩形里面的文本会被高亮。
在选择模式的时候使用上面所述的方向键和命令（motion）。比如，vwww，会高亮光标前面的三个词。Vjj将会高亮当前行以及下面两行。
(Edit Section ↓)
3.2  在可视选择模式下剪切和拷贝
一旦你高亮了选区，你或许想进行一些操作：
d：剪贴选择的内容到剪贴板。
y：拷贝选择的内容到剪贴板。
c：剪贴选择的内容到剪贴板并且进入插入模式。
(Edit Section ↓)
3.3  在非可视选择模式下剪切和拷贝
如果你很清楚的知道你想拷贝或者剪切什么，那你根本就不需要进入可视选择模式。这样也会节省时间：
d{motion}：剪切motion命令跨过的字符到剪贴板。比如，dw会剪切一个词而dfS会将从当前光标到下一个S之间的字符剪切至剪贴板。
y{motion}：和上面类似，不过是拷贝。
c{motion}：和d{motion}类似，不过最后进入插入模式。
dd：剪切当前行。
yy：拷贝当前行。
cc：剪切当前行并且进入插入模式。
D：剪切从光标位置到行尾到剪贴板。
Y：拷贝当前行。
C：和D类似，最后进入插入模式。
x：剪切当前字符到剪贴板。
s：和x类似，不过最后进入插入模式。
(Edit Section ↓)
3.4  粘贴
粘贴很简单，按p。
(Edit Section ↓)
3.5  使用多重剪贴板
很多编辑器都只提供了一个剪贴板。VIM有很多。剪贴板在VIM里面被称为寄存器（Registers）。你可以列出当前定义的所有寄存器名和它们的内容，命令为":reg"。最好使用小写字母来作为寄存器的名称，因为大写的有些被VIM占用了。
使用寄存器的命令为双引号“。
比如：我们要拷贝当前行到寄存器k。你应该按 "kyy。（你也可以使用 V"ky。为什么这样也可以呢？）现在当前行应该已经存在了寄存器k里面直到你又拷贝了一些东西进入寄存器k。现在你可以使用命令 "kp 来粘贴寄存器k里面的内容到你想要的位置。
(Edit Section ↓)
4.  避免重复
(Edit Section ↓)
4.1  令人惊奇的 . 命令
在VI里面，输入 . (小数点符号），将会重复你给入的上一个命令。比如，你上个命令为 'dw'（删除一个词），VI将会接着再删除一个词。
(Edit Section ↓)
4.2  使用数字
使用数字也是VIM强大的而且很节省时间的重要特性之一。在很多VIM的命令之前都可以使用一个数字，这个数字将会告诉VIM这个命令需要执行几次。比如：
3j 将会把光标向下移动三行。
10dd 将会删除十行。
y3" 将会拷贝从当前光标到第三个出现的引号之间的内容到剪贴板。
数字是扩展motion命令作用域非常有效的方法。
(Edit Section ↓)
4.3  记录宏
有时候，你会发现你自己在文章的每段或者每行都重复相同的一系列动作。VIM允许你记录一个宏来完成你的特殊需要。
qregister：记录宏到寄存器register，这里register是任意的你的寄存器的名字。比如qa，将会记录并且把宏存在寄存器a里面。
q：结束宏的记录。
@register：使用存在寄存器register的宏。比如@a，将会使用存在寄存器a里面的宏。
必须要记住的是，宏只记录了你的系列按键并且重复执行它们。它们不是魔法。因为在VIM里面完成目的的方法有很多，所以有时候你要小心选择命令来记录你的宏。因为它们会在所有你要执行它的地方执行。
(Edit Section ↓)
5.  用VIM写代码
VIM是一个绝好的编辑器来写代码，因为它有一些特性是专门为程序员而设。这里是一些常用的：
]p：和p的功能差不多，但是它会自动调整被粘贴的文本的缩进去适应当前代码的位置。试一下！
%：匹配花括号，方括号，括号等。在一个括号的上面，然后按%，鼠标就会出现在匹配的另外一半括号处。
>>：缩进所有选择的代码
<<：和上面类似，但是反缩进
gd：到达光标所在处函数或者变量的定义处。
K：在Man里面查找光标当前所在处的词。

vim2.txt
Vim高级技巧

 
 
说明: 以下的例子中 xxx 表示在命令模式下输入 xxx 并回车 以下的例子中 : xxx 表示在扩展模式下输入 xxx 并回车 小括号中的命令表示相关命令. 在编辑模式或可视模式下输入的命令会另外注明.

1. 查找

 /xxx(?xxx)      表示在整篇文档中搜索匹配xxx的字符串, / 表示向下查找, ? 表示向上查找.其中xxx可以是正规表达式,关于正规式就不多说了. 一般来说是区分大小写的, 要想不区分大小写, 那得先输入:set ignorecase查找到以后, 再输入 n 查找下一个匹配处, 输入 N 反方向查找.

 *(#)            当光标停留在某个单词上时, 输入这条命令表示查找与该单词匹配的下(上)一个单词. 同样, 再输入 n 查找下一个匹配处, 输入 N 反方向查找.

 g*(g#)          此命令与上条命令相似, 只不过它不完全匹配光标所在处的单词, 而是匹配包含该单词的所有字符串.

 gd              本命令查找与光标所在单词相匹配的单词, 并将光标停留在文档的非注释段中第一次出现这个单词的地方.

 %               本命令查找与光标所在处相匹配的反括号, 包括 () [] { }

 f(F)x           本命令表示在光标所在行进行查找, 查找光标右(左)方第一个x字符.
                 找到后:
                 输入 ; 表示继续往下找
                 输入 , 表示反方向查找

2. 快速移动光标
  在 vi 中, 移动光标和编辑是两件事, 正因为区分开来, 所以可以很方便的进行光标定位和编辑. 因此能更快一点移动光标是很有用的.

 w(e)            移动光标到下一个单词.
 b               移动光标到上一个单词.

 0               移动光标到本行最开头.
 ^               移动光标到本行最开头的字符处.
 $               移动光标到本行结尾处.

 H               移动光标到屏幕的首行.
 M               移动光标到屏幕的中间一行.
 L               移动光标到屏幕的尾行.
 gg              移动光标到文档首行.
 G               移动光标到文档尾行.
 c-f             (即 ctrl 键与 f 键一同按下) 本命令即 page down.
 c-b             (即 ctrl 键与 b 键一同按下, 后同) 本命令即 page up.

 ''              此命令相当有用, 它移动光标到上一个标记处, 比如用 gd, * 等查找到某个单词后, 再输入此命令则回到上次停留的位置.

 '.              此命令相当好使, 它移动光标到上一次的修改行.

 `.              此命令相当强大, 它移动光标到上一次的修改点.


3. 拷贝, 删除与粘贴
  在 vi 中 y 表示拷贝, d 表示删除, p 表示粘贴. 其中拷贝与删除是与光标移动命令结合的, 看几个例子就能够明白了.

 yw              表示拷贝从当前光标到光标所在单词结尾的内容.
 dw              表示删除从当前光标到光标所在单词结尾的内容.
 y0              表示拷贝从当前光标到光标所在行首的内容.
 d0              表示删除从当前光标到光标所在行首的内容.
 y$              表示拷贝从当前光标到光标所在行尾的内容.
 d$              表示删除从当前光标到光标所在行尾的内容.
 yfa             表示拷贝从当前光标到光标后面的第一个a字符之间的内容.
 dfa             表示删除从当前光标到光标后面的第一个a字符之间的内容.

 特殊地:
 yy              表示拷贝光标所在行.
 dd              表示删除光标所在行.
 D               表示删除从当前光标到光标所在行尾的内容.

 关于拷贝, 删除和粘贴的复杂用法与寄存器有关, 可以自行查询.


4. 数字与命令
  在 vi 中数字与命令结合往往表示重复进行此命令, 若在扩展模式的开头出现则表示行号定位. 如:

 5fx             表示查找光标后第 5 个 x 字符.

 5w(e)           移动光标到下五个单词.

 5yy             表示拷贝光标以下 5 行.
 5dd             表示删除光标以下 5 行.

 y2fa            表示拷贝从当前光标到光标后面的第二个a字符之间的内容.

 :12,24y         表示拷贝第12行到第24行之间的内容.
 :12,y           表示拷贝第12行到光标所在行之间的内容.
 :,24y           表示拷贝光标所在行到第24行之间的内容. 删除类似.


5. 快速输入字符
  在 vi 中, 不要求你输入每一个字符, 可以有很多种方法快速输入一些字符.
  使用 linux/unix 的同学一定有一个经验, 在命令行下输入命令时敲入头几个字符再按TAB 系统就会自动将剩下的字符补齐, 假如有多个匹配则会打印出来. 这就是著名的命令补齐(其实windows中也有文件名补齐功能). vi 中有许多的字符串补齐命令, 非常方便.

 c-p(c-n)        在编辑模式中, 输入几个字符后再输入此命令则 vi 开始向上(下)搜索开头与其匹配的单词并补齐, 不断输入此命令则循环查找. 此命令会在所有在这个 vim 程序中打开的文件中进行匹配.

 c-x-l           在编辑模式中, 此命令快速补齐整行内容, 但是仅在本窗口中出现的文档中进行匹配.

 c-x-f           在编辑模式中, 这个命令表示补齐文件名. 如输入:/usr/local/tom 后再输入此命令则它会自动匹配出:/usr/local/tomcat/

 abbr            即缩写. 这是一个宏操作, 可以在编辑模式中用一个缩写代替另一个字符串. 比如编写java文件的常常输入 System.out.println, 这很是麻烦, 所以应该用缩写来减少敲字. 可以这么做:
                 :abbr sprt System.out.println
                 以后在输入sprt后再输入其他非字母符号, 它就会自动扩展为System.out.println


6. 替换
  替换是 vi 的强项, 因为可以用正规表达式来匹配字符串.以下提供几个例子.

 :s/aa/bb/g      将光标所在行出现的所有包含 aa 的字符串中的 aa 替换为 bb
 :s/\<aa\>/bb/g  将光标所在行出现的所有 aa 替换为 bb, 仅替换 aa 这个单词
 :%s/aa/bb/g     将文档中出现的所有包含 aa 的字符串中的 aa 替换为 bb
 :12,23s/aa/bb/g 将从12行到23行中出现的所有包含 aa 的字符串中的 aa 替换为 bb
 :12,23s/^/#/    将从12行到23行的行首加入 # 字符
 :%s= *$==       将所有行尾多余的空格删除
 :g/^$/d         将所有不包含字符(空格也不包含)的空行删除.


7. 多文件编辑
  在一个 vim 程序中打开很多文件进行编辑是挺方便的.

 :sp(:vsp) 文件名    vim 将分割出一个横(纵)向窗口, 并在该窗口中打开新文件.从 vim6.0 开始, 文件名可以是一个目录的名称, 这样, vim 会把该目录打开并显示文件列表, 在文件名上按回车则在本窗口打   开该文件, 若输入 O 则在新窗口中打开该文件, 输入 ? 可以看到帮助信息.

 :e 文件名           vim 将在原窗口中打开新的文件, 若旧文件编辑过, 会要求保存.

 c-w-w               vim 分割了好几个窗口怎么办? 输入此命令可以将光标循环定位到各个窗口之中.

 :ls                 此命令查看本 vim 程序已经打开了多少个文件, 在屏幕的最下方会显示出如下数据:
                     1   %a      "usevim.html"         行 162
                     2   #       "xxxxxx.html"         行 0

                     其中:
                     1               表示打开的文件序号, 这个序号很有用处.
                     %a              表示文件代号, % 表示当前编辑的文件,
                                     # 表示上次编辑的文件
                     "usevim.html"   表示文件名.
                     行 162          表示光标位置.

 :b 序号(代号)       此命令将指定序号(代号)的文件在本窗口打开, 其中的序号(代号)就是用 :ls 命令看到的.

 :set diff           此命令用于比较两个文件, 可以用:vsp filename命令打开另一个文件, 然后在每个文件窗口中输入此命令,就能看到效果了.


8. 宏替换
  vi 不仅可以用 abbr 来替换文字, 也可以进行命令的宏定义. 有些命令输起来很费劲,因此我把它们定义到 <F1>-<F12> 上, 这样就很方便了.这些配置可以预先写到 ~/.vimrc(windows 下为 $VIM/_vimrc)中, 写进去的时候不用写前面的冒号.

 :nmap <F2> :nohls<cr>              取消被搜索字串的高亮
 :nmap <F9> <C-W>w                  命令模式下转移光标到不同窗口
 :imap <F9> <ESC><F9>               输入模式下运行<F9>
 :nmap <F12> :%s= *$==<cr>          删除所有行尾多余的空格.
 :imap <F12> <ESC><F12>             同上

 :java 中: (注, 这里为什么说 java 中, 因为以下定义对其他文件格式不起作用, 下文会说到如何实现这一点)
 :nmap <F3> :comp javac<CR>:mak -d . %<CR>
      此命令用 javac 编译 java 文件, 它会自动将光标定位到出错点. 不过这需要定义一个 javac.vim 文件在 $VIM/compiler 下, 在 javac.vim 里面只有两行字:
         setlocal makeprg=javac
         setlocal errorformat=%A%f:%l:\ %m,%-Z%p^,%-C%.%#

 :nmap <F4> :comp ant<CR>:mak<CR>
      此命令用 ant 编译 java 文件, 它会自动将光标定位到出错点. 一般来说, 安装vim 后已经有了compiler/ant.vim文件, 因此这个命令可以直接使用. 但是需要在当前目录下有 build.xml 文件, 当然还必须安装 ant 才行.

 :nmap <F5> :cl<CR>                 此命令用于查看所有的编译错误.
 :imap <F5> <ESC><F5>

 :nmap <F6> :cc<CR>                 此命令用于查看当前的编译错误.
 :imap <F6> <ESC><F6>

 :nmap <F7> :cn<CR>                 此命令用于跳到下一个出错位置.
 :imap <F7> <ESC><F7>

 :nmap <F8> :cp<CR>                 此命令用于跳到上一个出错位置.
 :imap <F8> <ESC><F8>

 :nmap <F11> :JavaBrowser<cr>
      此命令用于在窗口左部分割出一个新窗口, 里面的内容是 java 的资源树, 包括本文件中出现的类, 类的成员变量及成员方法, 就好像 JCreator 表现的那样.在这个窗口中输入 ? 会看到帮助. 嘿嘿, 很好用, 不过需要 ctags 支持.
 :imap <F11> <ESC><F11>


9. TAB
  TAB 就是制表符, 单独拿出来做一节是因为这个东西确实很有用.

  <<                  输入此命令则光标所在行向左移动一个 tab.
  >>                  输入此命令则光标所在行向右移动一个 tab.
  5>>                 输入此命令则光标后 5 行向右移动一个 tab.
  :12,24>             此命令将12行到14行的数据都向右移动一个 tab.
  :12,24>>            此命令将12行到14行的数据都向右移动两个 tab.

  那么如何定义 tab 的大小呢? 有人愿意使用 8 个空格位, 有人用4个, 有的用2个.
  有的人希望 tab 完全用空格代替, 也有的人希望 tab 就是 tab. 没关系, vim 能帮助你.以下的设置一般也都先写入配置文件中, 免得老敲.

  :set shiftwidth=4   设置自动缩进 4 个空格, 当然要设自动缩进先.
  :set sts=4          即设置 softtabstop 为 4. 输入 tab 后就跳了 4 格.
  :set tabstop=4      实际的 tab 即为 4 个空格, 而不是缺省的 8 个.
  :set expandtab      在输入 tab 后, vim 用恰当的空格来填充这个 tab.


10. autocmd
   这个命令十分的强大, 可以用这个命令实现对不同的文件格式应用不同的配置; 可以在新建文件时自动添加上版权声明等等. 这些命令一般定义在 ~/.vimrc 这样的配置文件里面. 由于他很强大, 所以我不能给出很具体的说明, 只能举几个例子, 详细的请看帮助.

 :autocmd!               删除所有之前的自动命令.
 autocmd FileType        java  source ~/.vim/files/java.vim
 autocmd FileType        java  source ~/.vim/files/jcommenter.vim
   以上两条命令让我在打开 java 文件时才应用后面提到的两个配置文件.
 autocmd BufNewFile      *.java  0r ~/.vim/files/skeletons/java.skel
   以上这条命令让我在新建 java 文件时自动加入 java.skel 文件的内容.
 autocmd BufNewFile      *.java  normal gnp
   以上这条命令让我在新建 java 文件时自动运行 gnp 命令, 这个命令进行一些特殊化处理, 比如将新 java 文件中的 __date__ 替换成今天的日期什么的.


11. 常用脚本
   在 vim.sf.net 你可以发现很多脚本(script), 这些脚本常常有让你意想不到的作用.
   我常用的有:

   jcommenter.vim        自动加入 javadoc 风格的注释.
   JBrowser.vim          类资源浏览. C, C++ 等可以用 Tlist

   还有许多有用的, 比如 checkstyle.vim 可以检验你的编程风格, jad.vim 可以直接反编译 .class 文件等等.


12. 常用配置
   在~/.vimrc 配置文件中你常常需要一些个性化配置. 比如上面写的一些宏定义, 一些autocmd 定义等等. 比如:
   set suffixes=.bak,~,.o,.h,.info,.swp,.aux,.bbl,.blg,.dvi,.lof,.log,.lot,.ps,.toc     这样在vim中打开文件时, 按 tab 键补齐文件名时它会忽略上述文件.

   set nu          显示行号
   set ai          设置自动缩进
   map Y y$        让 Y 和 D 一样, 要不然 Y 的本意和 yy 一样.


13. 其他
   还有许多有意思的命令, 记录在这里免得忘记.

   .                                               重复上次编辑命令.
   :g/^/exec "s/^/".strpart(line(".")." ", 0, 4)   在行首插入行号
   :runtime! syntax/2html.vim                      转换 txt 成 html, 会按照你的颜色配置来转

下面是一些快捷键
光标移动
左：h
下：j
上：k
右：l
下一行行首：+
上一行行首：-
当前行行首：0
当前行行尾：$
后一个单词词首：w,W
后一个单词词尾：e,E
前一个单词词首：b,B
下一屏：CRTL+F
上一屏：CRTL+B
下半屏：CRTL+D
上半屏：CRTL+U
向上滚动屏幕: CRTL+Y
向下滚动屏幕: CRTL+E
跳到文件尾:G
跳到文件头:g
当前屏幕首行：H
当前屏幕末行：L
当前屏幕中央：M
指定行：行号G,:行号
指定字符串前：/字符串,?字符串
当前行指定字符前：f字符,F字符
文字追加和插入
当前光标右方追加：a
当前光标行尾追加：A
当前光标左方追加：i
当前光标行首追加：I
当前行下方追加行：o
当前行上方插入行：O
文字删除
删除光标位置文字：x
删除光标左方文字：X
删除当前行：dd
删除光标移动范围内的文字：d光标移动命令
文字替换
替换1文字到多文字：s
替换1文字到1文字：r
替换到当前行尾：C
替换当前行：cc
从当前位置开始替换直到输入ESC：R
文字复制和粘贴
(例)
复制光标以下3行：3yy,3Y
复制光标以后6个单词：6yw
粘贴到光标以下：p
粘贴到光标以上：P
通用替换命令
:行1,行2s/字符串1/字符串2/g
“行1,行2”指定方法例：
第5行到第30行：5,30
当前行到第30行：.,30
第5行到第末尾行：5,$
第5行到含有end的行：5,/end/
所有行：%
其他常用命令
显示行号
:set number 或者 :set nu
隐藏行号
:set nonumber 或者 :set nonu
自动缩进
:set autoindent 或者 :set ai
不自动缩进
:set noautoindent 或者 :set noai
显示Tab及行尾字符
:set list
隐藏Tab及行尾字符
:set nolist
设置Tab宽度为4个字符
:set tabstop=4
查看当前设置
:set all

:dd  删除当前行
:ndd 删除当前行以下n行（包括当前行在内）
:p   粘贴
:yy  复制当前行
:nyy 复制当前行以下n行（包括当前行在内）
:dd和ndd也可以认为是“剪切”。

:n,m co k  复制n到m行，粘贴到k行处（从下一行开始）
:n,m m k   剪切n到m行，粘贴到k行处（从下一行开始）
:n,m d     删除n到m行

注意的是，m必须大于n，而且m、n、k都在正文行号之内。比如说，如果文件有10行，而你的操作中出现了11，就会出现错误。m可以用特殊符号$，代表到结尾处。

如果要处理的文本比较多，那么可以采用标号的方法。具体如下：

光标移到起始行，输入ma
光标移到结束行，输入mb
光标移到粘贴行，输入mc

然后 :'a,'b co 'c，就实现了复制粘贴。如果把co改为m，就实现了剪切粘贴。

乱序排版:
ggv=^g
ggv=G


VIM是一款功能强大使用方便的文本编辑器。

免费。VIM是开源的
跨平台。无论windows还是Linux，无论客户端还是服务器
易用。命令的一致性，可组合
高效。打开超大文件仍能保持响应快速
扩展。超过3600款插件供我们选择
VIM模式
VIM是有模式的编辑器。

普通模式（Normal） ： 默认模式，此时在编辑器内按下键盘，并不会直接输入
编辑模式（Insert） ： 按i键进入编辑模式，可以输入
命令模式（Command） ： 在普通模式下按”:”可以输入命令
可视模式（Visual） ： 按v键进入，此模式下可以进行选择
VIM配置
打开VIM，输入:set runtimepath，可以看到VIM配置环境路径，推荐直接将配置文件放在用户根目录下（~），除非你知道自己在做什么。

目录结构应该是这样：

~/.vimrc # 配置文件
~/.vim/ # 插件目录
常用配置说明
set nocompatible  # 关闭VI兼容模式

\# 编码设置
let &termencoding=$encoding
set fileencodings=ucs-bom,utf-8,gbk,cp936,latin1

\# 缩进设置
set tabstop=4
set softtabstop=4
set shiftwidth=4
set autoindent
set cindent

\# GUI设置（关闭菜单栏和工具栏）
set guioptions-=T
set guioptions-=m

\# 状态栏设置
set laststatus=2
set statusline=%F%m%r%h%w\ [FORMAT=%{&ff}]\ [TYPE=%Y]\ [ASCII=\%03.3b]\ [HEX=\%02.2B]\ [POS=%04l,%04v][%p%%]\ [LEN=%L]

set nu # 显示行号
colo darkZ # 主题配色
set autochdir #自动切换工作目录
syntax on # 语法高亮
filetype plugin indent on #开启插件
set mouse=a # 开启鼠标支持
set nowrap # 关闭自动折行
set so=10 # 设置光标距离上下边界的距离
set hidden # 允许在有未保存的修改时切换缓冲区
set ruler # 开启右下角光标位置显示
set showcmd # 在窗口右下角显示完整命令已输入部分
set cursorline # 高亮光标所在行
set ignorecase # 忽略大小写匹配
set incsearch # 开启输入时的搜索
set magic # 用于模式匹配的，建议开启
set hlsearch # 搜索关键词高亮
set cmdheight=2 # 设置命令行高度
setlocal noswapfile # 关闭临时文件
set wildmenu # 启用文本模式的菜单
web前端开发常用插件
zencoding用于快速书写HTML代码的zencoding插件，它非常优秀，几乎改变了我书写HTML代码的方式
展开缩写：ctrl + y + ,
多行缩写：ctrl + y + , 注意星号（*）的作用
跳转到上（下）个编辑位置：ctrl + y + N(n)
获取图片的长宽大小： ctrl + y + i
注释切换：ctrl + y + /
url生成：ctrl + y + a
tasklist类似Eclipse中的TODO功能，很方便
默认 <leader>t 调出，支持 TODO/FIXME/XXX 等标记
auto_mkdir保存文件到一个不存在的目录结构时，会自动创建目录结构树
比如键入如下命令保存文件：:w /data/csser.com/vim.file，但实际上/data/csser.com/目录并不存在，不要紧，这款插件自动解决。
bufferexplorr快速方便查看缓冲区内已打开的文件列表，并可进行切换、删除等操作
默认<leader>be调出
JavascriptLintJavascript语法检查工具的vim插件
默认保存js文件时会进行语法错误检查
jsbeautify更美观的格式化Javascript代码
默认<leader>ff调用，必须是已经存在的文件，未保存无效
matchit 让HTML中也可以通过”%”在标签开始和结束之间跳跃选择
neocomplcache 效率较高的输入自动提示插件
Nerd_commenter注释功能增强
单行注释：<leader>cc
多行美观注释：<leader>cs
取消注释：<leader>cu
Nerd_tree文件浏览器
我设置的<F3>调出，但很少用
snipMate代码段补全
新建一个javascript文件，输入if按<Tab>，有效过，但一般我也用的少
surround便捷的操作环绕字符
这个很方便、很强大的插件，写程序还是必备较好
Tabular可以指定某个符号对齐
是否看到很多类库的源码中定义变量的=号都是对齐的，用它就很方便了，不用按了<Tab>又空格的。不仅仅等号，其它符号也可有对齐，命令：:Tabularize /=